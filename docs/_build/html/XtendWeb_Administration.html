

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Administration of XtendWeb plugin &mdash; Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Documentation" href="index.html"/>
        <link rel="next" title="Application templates" href="Application_template.html"/>
        <link rel="prev" title="Setting up ColdFusion or Java" href="ColdFusion_Java.html"/>
    <link href="_static/style.css" rel="stylesheet" type="text/css">


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> A U T O M 8 N
          

          
            
            <img src="_static/XtendWeb.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">XtendWeb setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation_standalone.html">XtendWeb standalone installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation_standalone.html#application-servers">Application servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation_cluster.html">XtendWeb Cluster Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation_cluster.html#xtendweb-cluster-introduction">XtendWeb Cluster Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_cluster.html#xtendweb-cluster-requirements">XtendWeb Cluster Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_cluster.html#xtendweb-cluster-setup">XtendWeb cluster setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mod_remoteip.html">mod_remoteip</a></li>
<li class="toctree-l1"><a class="reference internal" href="brotli_compression.html">brotli_compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="http2.html">http2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModSecurity.html">ModSecurity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Naxsi.html">Naxsi</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="UserDocs.html">XtendWeb User docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="UserDocs.html#setup-url-redirects">Setup URL Redirects</a></li>
<li class="toctree-l2"><a class="reference internal" href="UserDocs.html#enable-directory-listing">Enable Directory listing</a></li>
<li class="toctree-l2"><a class="reference internal" href="UserDocs.html#content-optimization">Content Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="UserDocs.html#security-headers">Security Headers</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">SimpleR setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simpler_resource_control.html">Simple Resource controller</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#how-does-simpler-work">How does simpleR work</a></li>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#default-resource-for-user">Default resource for user</a></li>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#tools-to-view-resource-usage">Tools to view resource usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#to-view-systemd-config-loaded">To view systemd config loaded</a></li>
<li class="toctree-l2"><a class="reference internal" href="simpler_resource_control.html#to-view-the-cgroup-tree">To view the cgroup tree</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Support and Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Support.html">Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Support.html#if-you-have-already-purchased-a-support-plan">If you have already purchased a support plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="Support.html#bug-report">Bug Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="Support.html#announcements">Announcements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Project_sponsors.html">Project Sponsors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Project_sponsors.html#credits">CREDITS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Partner_webhosts.html">Partner Webhosts</a></li>
</ul>
<p class="caption"><span class="caption-text">Application servers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="HHVM.html">Setting up HHVM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HHVM.html#on-centos7-cloudlinux7">On CentOS7 / CloudLinux7</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="PHP.html">Setting up PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#on-centos6-centos7">On CentOS6/CentOS7</a></li>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#on-cloudlinux6-cloudlinux7">On CloudLinux6/CloudLinux7</a></li>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#php-fpm-user-level-master">PHP-FPM user level master</a></li>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#where-are-my-php-logs">Where are my php logs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#zendopcache-and-security-considerations-on-php-fpm-single-master-setup">ZendOpcache and security considerations on php-fpm single master setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="PHP.html#per-user-php-ini-custom-settings">Per user php.ini custom settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="PYTHON_WSGI.html">Setting up Python (WSGI app)</a></li>
<li class="toctree-l1"><a class="reference internal" href="RUBY_RACK.html">Setting up Ruby(Rack app)</a></li>
<li class="toctree-l1"><a class="reference internal" href="NodeJS.html">Setting up NodeJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Meteor.html">Setting up Meteor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ColdFusion_Java.html">Setting up ColdFusion or Java</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration &amp; Monitoring</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Administration of XtendWeb plugin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#layer7-application-layer-ddos-mitigation">Layer7(Application layer) DDOS mitigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-fixing-of-most-errors">Automatic fixing of most errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-default-server-settings">Managing default server settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-selection-of-template-based-on-application">Automatic selection of template based on application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-application-templates">Adding application templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-application-servers-or-backends">Adding Application servers or backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-xtendweb-and-nginx">Upgrading XtendWeb and Nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xtendweb-cluster-upgrade">XtendWeb cluster upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migrating-xtendweb-settings">Migrating Xtendweb settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#temporarily-disable-the-plugin">Temporarily disable the plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uninstall-the-plugin">Uninstall the plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Application_template.html">Application templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Monitoring.html">Monitoring nginx and app servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Logs.html">Managing Logs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">A U T O M 8 N</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Administration of XtendWeb plugin</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="administration-of-xtendweb-plugin">
<h1>Administration of XtendWeb plugin<a class="headerlink" href="#administration-of-xtendweb-plugin" title="Permalink to this headline">¶</a></h1>
<p>The end user has an intuitive UI for managing domains hosted on cPanel.</p>
<p>Sysadmins can manipulate server wide settings using various scripts accessible from command line</p>
<div class="section" id="layer7-application-layer-ddos-mitigation">
<h2>Layer7(Application layer) DDOS mitigation<a class="headerlink" href="#layer7-application-layer-ddos-mitigation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">To</span> <span class="n">deal</span> <span class="k">with</span> <span class="n">a</span> <span class="n">server</span> <span class="n">wide</span> <span class="n">DDOS</span> <span class="n">on</span> <span class="n">http</span> <span class="p">(</span><span class="n">application</span> <span class="n">layer</span><span class="p">)</span>
<span class="n">Edit</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">http_settings</span><span class="o">.</span><span class="n">conf</span>
<span class="ow">and</span> <span class="n">uncomment</span> <span class="n">the</span> <span class="n">include</span> <span class="n">line</span> <span class="k">as</span> <span class="n">mentioned</span>

<span class="c1"># Uncomment following to enable DOS mitigation server wide</span>
<span class="c1"># include /etc/nginx/conf.d/dos_mitigate.conf;</span>

<span class="n">nginx</span> <span class="o">-</span><span class="n">s</span> <span class="n">reload</span>
</pre></div>
</div>
</div>
<div class="section" id="automatic-fixing-of-most-errors">
<h2>Automatic fixing of most errors<a class="headerlink" href="#automatic-fixing-of-most-errors" title="Permalink to this headline">¶</a></h2>
<p>The following script rebuilds all config and restarts backend app servers</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">attempt_autofix</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div>
<div class="section" id="managing-default-server-settings">
<h2>Managing default server settings<a class="headerlink" href="#managing-default-server-settings" title="Permalink to this headline">¶</a></h2>
<p>The default config generation in XtendWeb is governed by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_default</span><span class="o">.</span><span class="n">yaml</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_suspended</span><span class="o">.</span><span class="n">yaml</span> <span class="p">(</span><span class="k">for</span> <span class="n">suspended</span> <span class="n">users</span><span class="p">)</span>
</pre></div>
</div>
<p>You can change the default server setting by creating /opt/nDeploy/conf/domain_data_default_local.conf</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_default</span><span class="o">.</span><span class="n">yaml</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_default_local</span><span class="o">.</span><span class="n">yaml</span>
<span class="n">cp</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_suspended</span><span class="o">.</span><span class="n">yaml</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">domain_data_suspended_local</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
</div>
<div class="section" id="automatic-selection-of-template-based-on-application">
<h2>Automatic selection of template based on application<a class="headerlink" href="#automatic-selection-of-template-based-on-application" title="Permalink to this headline">¶</a></h2>
<p>The following script can detect the application installed in the web root(only!) based on filenames</p>
<p>While cPanel users can always change the vhost configuration for nginX
anytime from their cPanel login
sometimes the server administrator wants to automatically switch supporting applications
to be directly served by Nginx instead of Apache httpd.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">auto_config</span><span class="o">.</span><span class="n">py</span> <span class="n">CPANELUSER</span>
</pre></div>
</div>
<p>does this.</p>
<p>The script works by checking the presence of certain files like for example the wp-config.php in case of wordpress and switches the profile accordingly</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">root</span><span class="nd">@cpanel</span> <span class="p">[</span><span class="o">~</span><span class="p">]</span><span class="c1"># cat /opt/nDeploy/conf/appsignatures.yaml</span>
<span class="n">PHP</span><span class="p">:</span>
  <span class="s1">&#39;/wp-config.php&#39;</span><span class="p">:</span> <span class="s1">&#39;5001.j2&#39;</span>
  <span class="s1">&#39;/libraries/joomla/version.php&#39;</span><span class="p">:</span> <span class="s1">&#39;5002.j2&#39;</span>
  <span class="s1">&#39;/sites/default/settings.php&#39;</span><span class="p">:</span> <span class="s1">&#39;5017.j2&#39;</span>
  <span class="s1">&#39;/app/etc/local.xml&#39;</span><span class="p">:</span> <span class="s1">&#39;5003.j2&#39;</span>
</pre></div>
</div>
<p>Admin can update the appsignatures.yaml file with file names and the corresponding
profile that auto_config.py switch the domain to if the file exists.
The default list provided by us is not extensive.
Admins can also remove entries from the file above to negate auto-switching should there be a need for it.</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">/opt/nDeploy/conf/auto_config.exclude</span></code></div></blockquote>
<p>if present and contain the CPANELUSERNAME in it will prevent auto switching of profiles
for any domain (addon,subdomain etc) of the cpanel user.
This is useful while running the auto_config script in a for loop over a list of
cpanel users and if the script should omit any user.
To make this all work</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>1. Edit /opt/nDeploy/conf/appsignatures.yaml . Add or remove filenames (relative to document root) and the corresponding profile names to switch to should the file be present in document root

2.Create a file named /opt/nDeploy/conf/auto_config.exclude and add any cpanelusername for which you wish to exclude auto_config. If the file is not present or is empty ;no user is excluded

3.run

for CPANELUSER in $(cat /etc/domainusers|cut -d: -f1)
    do
        echo &quot;Auto ConfGen:: $CPANELUSER&quot; &amp;&amp; /opt/nDeploy/scripts/auto_config.py $CPANELUSER
    done
    service nginx restart
</pre></div>
</div>
<p>The first time auto_config.py runs it will ask your preference of PHP version
that automatic switching should use.
On Cpanel servers, you can safely use the same version as the default installed PHP
as most of your domains will be running that version without issues</p>
</div>
<div class="section" id="adding-application-templates">
<h2>Adding application templates<a class="headerlink" href="#adding-application-templates" title="Permalink to this headline">¶</a></h2>
<p>Application templates are a way of extending the plugin with dealing with more web applications and user specific
Nginx config customization</p>
<p>Application templates can be distributed server wide or to specific users
Application templates can be created for an application in the document_root as well as a subdirectory</p>
<p>Distributing templates to all users</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_profiles</span><span class="o">.</span><span class="n">py</span> <span class="n">add</span> <span class="n">root</span> <span class="n">main</span> <span class="n">PHP</span> <span class="mf">5001.</span><span class="n">j2</span> <span class="s2">&quot;Wordpress&quot;</span>
</pre></div>
</div>
<p>Distributing templates for a subdirectory to all users</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_profiles</span><span class="o">.</span><span class="n">py</span> <span class="n">add</span> <span class="n">root</span> <span class="n">subdir</span> <span class="n">PHP</span> <span class="mi">5001</span><span class="n">_subdir</span><span class="o">.</span><span class="n">j2</span> <span class="s2">&quot;Wordpress in subdir&quot;</span>
</pre></div>
</div>
<p>Distributing template to a specific cpaneluser</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_profiles</span><span class="o">.</span><span class="n">py</span> <span class="n">add</span> <span class="n">cpanelusername</span> <span class="n">main</span> <span class="n">PHP</span> <span class="mf">5001.</span><span class="n">j2</span> <span class="s2">&quot;Wordpress&quot;</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_profiles</span><span class="o">.</span><span class="n">py</span> <span class="n">add</span> <span class="n">cpanelusername</span> <span class="n">subdir</span> <span class="n">PHP</span> <span class="mi">5001</span><span class="n">_subdir</span><span class="o">.</span><span class="n">j2</span> <span class="s2">&quot;Wordpress in subdir&quot;</span>
</pre></div>
</div>
<p>In short the template registration has the following syntax</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_profiles</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="n">add</span><span class="o">|</span><span class="k">del</span><span class="p">]</span> <span class="p">[</span><span class="n">root</span><span class="o">|</span><span class="n">cpanelusername</span><span class="p">]</span> <span class="p">[</span><span class="n">main</span><span class="o">|</span><span class="n">subdir</span><span class="p">]</span> <span class="p">[</span><span class="n">backend</span><span class="p">]</span> <span class="p">[</span><span class="n">templatefilename</span><span class="p">]</span> <span class="p">[</span><span class="n">quoted</span> <span class="n">description</span><span class="p">]</span>
</pre></div>
</div>
<p>Templates use Python Jinja2 templating engine. But there isn&#8217;t much template logic used to make application template
simpler for most users. You can check existing templates for the commonly used variables.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Open an issue at the GitHub repo if you wish template for a commonly used application to be added</p>
</div>
</div>
<div class="section" id="adding-application-servers-or-backends">
<h2>Adding Application servers or backends<a class="headerlink" href="#adding-application-servers-or-backends" title="Permalink to this headline">¶</a></h2>
<p>XtendWeb supports php-fpm or hhvm via FastCGI, Other web/application servers like httpd, Tomcat etc via Proxy.
Ruby/Python/NodeJs using the Phusion Passenger module</p>
<p>To register a backend use the follwoing command</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">update_backend</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="n">add</span><span class="o">|</span><span class="k">del</span><span class="p">]</span> <span class="n">backend_category</span> <span class="n">backend_name</span> <span class="n">backend_path</span>
</pre></div>
</div>
</div>
<div class="section" id="upgrading-xtendweb-and-nginx">
<h2>Upgrading XtendWeb and Nginx<a class="headerlink" href="#upgrading-xtendweb-and-nginx" title="Permalink to this headline">¶</a></h2>
<p>nDeploy-nginx is mated with a phusion passenger ruby gem .
So we don&#8217;t encourage unmanned upgrades and have therefore set enable=0 in the yum repository.
The upgrade must be done manually by running the following commands</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="o">-</span><span class="n">y</span> <span class="n">install</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">AnoopAlias</span><span class="o">/</span><span class="n">XtendWeb</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">ndeploy4</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">centos</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="mf">5.</span><span class="n">noarch</span><span class="o">.</span><span class="n">rpm</span>
<span class="n">yum</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ndeploy</span> <span class="n">upgrade</span>
<span class="c1">#For setups using Phusion Passenger app server</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">easy_passenger_setup</span><span class="o">.</span><span class="n">sh</span>
<span class="c1">#For upgrading PHP application server(additional packages are to upgraded via yum)</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">easy_php_setup</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div>
<div class="section" id="xtendweb-cluster-upgrade">
<h2>XtendWeb cluster upgrade<a class="headerlink" href="#xtendweb-cluster-upgrade" title="Permalink to this headline">¶</a></h2>
<p>On All slaves</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ndeploy</span> <span class="n">upgrade</span>
</pre></div>
</div>
<p>On master</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="o">--</span><span class="n">enablerepo</span><span class="o">=</span><span class="n">ndeploy</span> <span class="n">upgrade</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">conf</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">-</span><span class="n">cluster</span>
<span class="n">ansible</span><span class="o">-</span><span class="n">playbook</span> <span class="o">-</span><span class="n">i</span> <span class="o">./</span><span class="n">hosts</span> <span class="n">cluster</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
</div>
<div class="section" id="migrating-xtendweb-settings">
<h2>Migrating Xtendweb settings<a class="headerlink" href="#migrating-xtendweb-settings" title="Permalink to this headline">¶</a></h2>
<p>In case you are migrating the entire cPanel accounts to a new server.</p>
<ol class="arabic simple">
<li>Do the cPanel migration</li>
<li>Install Xtendweb on the new server</li>
<li>Edit the file /opt/nDeploy/scripts/migrate_xtendweb_settings.sh and change REMOTE_SERVER=&#8217;ip.ip.ip.ip&#8217; with the remote servers IP address</li>
<li>Run the script /opt/nDeploy/scripts/migrate_xtendweb_settings.sh  #Input password of remote server whenever prompted</li>
</ol>
</div>
<div class="section" id="temporarily-disable-the-plugin">
<h2>Temporarily disable the plugin<a class="headerlink" href="#temporarily-disable-the-plugin" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><code class="docutils literal"><span class="pre">/opt/nDeploy/scripts/cpanel-nDeploy-setup.sh</span> <span class="pre">disable</span></code></div></blockquote>
</div>
<div class="section" id="uninstall-the-plugin">
<h2>Uninstall the plugin<a class="headerlink" href="#uninstall-the-plugin" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">nDeploy</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">cpanel</span><span class="o">-</span><span class="n">nDeploy</span><span class="o">-</span><span class="n">setup</span><span class="o">.</span><span class="n">sh</span> <span class="n">disable</span>
<span class="n">yum</span> <span class="n">remove</span> <span class="n">nginx</span><span class="o">-</span><span class="n">nDeploy</span> <span class="n">nDeploy</span>
</pre></div>
</div>
<div data-disqus-identifier="Administration of XtendWeb plugin" data-disqus-shortname="ndeploy-readthedocs-io" id="disqus_thread"></div></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Application_template.html" class="btn btn-neutral float-right" title="Application templates" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ColdFusion_Java.html" class="btn btn-neutral" title="Setting up ColdFusion or Java" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, A U T O M 8 N.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/disqus.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>